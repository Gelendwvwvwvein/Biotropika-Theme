(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,i=window.wp.blockEditor,r=window.wp.components,a=window.React,s=window.ReactJSXRuntime;function o({level:e=2,children:t,...i}){const r=`h${Math.min(6,Math.max(1,e))}`;return(0,s.jsx)(r,{...i,children:t})}(0,e.registerBlockType)("biotropika/preview-block",{edit:function({attributes:e,setAttributes:o}){const{title:l,raceNumber:n,raceDate:c}=e,[p,d]=(0,a.useState)(l||""),[u,b]=(0,a.useState)(n||""),[_,w]=(0,a.useState)(c||"");(0,a.useEffect)(()=>d(l||""),[l]),(0,a.useEffect)(()=>b(n||""),[n]),(0,a.useEffect)(()=>w(c||""),[c]);const h=(0,i.useBlockProps)({className:"biotropika-preview-block"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.InspectorControls,{children:(0,s.jsxs)(r.PanelBody,{title:(0,t.__)("Настройки превью","biotropika"),initialOpen:!0,children:[(0,s.jsx)(r.TextControl,{label:(0,t.__)("Заголовок","biotropika"),value:p,onChange:e=>d(e),onBlur:()=>o({title:p}),placeholder:(0,t.__)("Введите заголовок","biotropika")}),(0,s.jsx)(r.TextControl,{label:(0,t.__)("Номер гонки","biotropika"),value:u,onChange:e=>b(e),onBlur:()=>o({raceNumber:u}),placeholder:(0,t.__)("Например, 25","biotropika")}),(0,s.jsx)(r.TextControl,{label:(0,t.__)("Дата","biotropika"),value:_,onChange:e=>w(e),onBlur:()=>o({raceDate:_}),placeholder:(0,t.__)("ДД.ММ.ГГГГ","biotropika")})]})}),(0,s.jsxs)("div",{...h,children:[p&&(0,s.jsx)("h2",{className:"preview__title",children:p}),u&&(0,s.jsxs)("div",{className:"preview__race-number",children:["Гонка #",u]}),_&&(0,s.jsxs)("div",{className:"preview__date",children:["Дата: ",_]})]})]})},save({attributes:e}){const{title:t,raceNumber:i,raceDate:r}=e;return(0,s.jsxs)("section",{className:"biotropika-preview-block",children:[t&&(0,s.jsx)(o,{level:1,className:"preview__title",children:t}),i&&(0,s.jsxs)("p",{className:"preview__race-number",children:["Гонка #",i]}),r&&(0,s.jsxs)("p",{className:"preview__date",children:["Дата: ",r]})]})}})})();